# 关于 AVS 开发的 idea
## 优化问题
### TODO
  - Parser::parse_address函数实现过于暴力, 可以优化, 后续
  - 是否考虑用stl框架而非qtl框架实现后端, 这样便于后续开源不使用Qt的
### 确定
  - List在循环时频繁at或者[]时会造成重复寻址浪费资源, 应该在循环开头使用引用来作为循环内部的访问
### 疑问
  - 关于 get 时的拷贝开销
    - token 在 get literal 的时候是拷贝返回 QString 类型, 本意是防止 get 时违规修改, 但是因为是自己操作, 所以不会出来这种情况, 考虑是否改为返回 const QString& 类型
    - lexer 在返回 token 或 tokens 的时候会造成大量拷贝, 其实问题与上一个相同, 是否应该仅返回const引用
    - 针对于列表的返回同样疑惑是拷贝返回还是引用返回
    - 还有一种思路，便是采用友元的方式访问，但是因为继承的子类太多，所以不应该采用友元。
    - 
  